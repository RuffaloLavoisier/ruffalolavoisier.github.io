<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Reverse Engineering for Unreal Engine" /><meta property="og:locale" content="en" /><meta name="description" content="How to find GName, GUObjectArray, GWorld, and generate SDK on latest" /><meta property="og:description" content="How to find GName, GUObjectArray, GWorld, and generate SDK on latest" /><link rel="canonical" href="https://ruffalolavoisier.github.io/posts/dump_unreal_engine/" /><meta property="og:url" content="https://ruffalolavoisier.github.io/posts/dump_unreal_engine/" /><meta property="og:site_name" content="Unforgettable" /><meta property="og:image" content="https://ruffalolavoisier.github.io/assets/img/common/android_research_reverse.png" /><meta property="og:image:alt" content="Reverse Engineering of Unreal Engine" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-08-25T22:41:45+09:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://ruffalolavoisier.github.io/assets/img/common/android_research_reverse.png" /><meta name="twitter:image:alt" content="Reverse Engineering of Unreal Engine" /><meta property="twitter:title" content="Reverse Engineering for Unreal Engine" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-10-07T02:48:30+09:00","datePublished":"2025-08-25T22:41:45+09:00","description":"How to find GName, GUObjectArray, GWorld, and generate SDK on latest","headline":"Reverse Engineering for Unreal Engine","image":{"lqip":"data:image/webp;base64","alt":"Reverse Engineering of Unreal Engine","url":"https://ruffalolavoisier.github.io/assets/img/common/android_research_reverse.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ruffalolavoisier.github.io/posts/dump_unreal_engine/"},"url":"https://ruffalolavoisier.github.io/posts/dump_unreal_engine/"}</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2677268060283942" crossorigin="anonymous"></script><title>Reverse Engineering for Unreal Engine | Unforgettable</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Unforgettable"><meta name="application-name" content="Unforgettable"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js,npm/mermaid@11.4.0/dist/mermaid.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script> <script>mermaid.initialize({startOnLoad:true});</script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="https://ruffalolavoisier.github.io/assets/img/profile/profile_new.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Unforgettable</a><p class="site-subtitle fst-italic mb-0">I wonder Why I wonder</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/project/" class="nav-link"> <i class="fa-fw fas fa-laptop-code"></i> <span>PROJECT</span> </a><li class="nav-item"> <a href="/interest/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>INTEREST</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/RuffaloLavoisier" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="javascript:location.href = 'mailto:' + ['RuffaloLavoisier','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://stackoverflow.com/users/17522538/ruffalo" aria-label="stack-overflow" target="_blank" rel="noopener noreferrer" > <i class="fab fa-stack-overflow"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Reverse Engineering for Unreal Engine</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip><b>Reverse Engineering for Unreal Engine</b></h1><i></i><p class="post-desc fw-light mb-4">How to find GName, GUObjectArray, GWorld, and generate SDK on latest</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1756129305" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Aug 25, 2025 </time> </span> <span> Updated <time data-ts="1759772910" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Oct 7, 2025 </time> </span><div class="mt-3 mb-3"> <a href="https://ruffalolavoisier.github.io/assets/img/common/android_research_reverse.png" class="popup img-link preview-img blur"><img data-src="https://ruffalolavoisier.github.io/assets/img/common/android_research_reverse.png" alt="Reverse Engineering of Unreal Engine" width="1200" height="630" data-lqip="true" src="data:image/webp;base64"></a><figcaption class="text-center pt-2 pb-2">Reverse Engineering of Unreal Engine</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/RuffaloLavoisier">Ruffalo</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3800 words" > <em>21 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Reverse Engineering for Unreal Engine</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Reverse Engineering for Unreal Engine</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="introduction"><span class="me-2">Introduction</span><a href="#introduction" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>언리얼 엔진은 게임 개발에 사용되는 일반적으로 알려진 유니티 엔진과 다르게 좀 더 고성능 엔진으로 여겨지며 그만큼 바이너리를 리버싱하기 어렵다.</p><p>이번에는 최신 언리얼 엔진에 대하여 리버싱하기 위하여 필요한 각 오프셋 <code class="language-plaintext highlighter-rouge">GName</code>, <code class="language-plaintext highlighter-rouge">GUObejctArray</code>, <code class="language-plaintext highlighter-rouge">GWorld</code> 를 찾는 과정을 작성해보려고 한다. 또한 나아가 해당 오프셋을 기반으로 SDK 를 덤프하는 것을 진행해보려고 한다.</p><p>해당 블로그에서 사용한 언리얼 엔진은 5.5 - 5.6 을 기반으로 진행한다.</p><blockquote class="prompt-warning"><p>해당 문서는 학문적인 연구 목적으로 작성하였으며 사회에 반하는 행위에 대한 책임은 개인에게 있으며 악용될 우려가 있으므로 자세한 내용은 생략하여 작성합니다.</p></blockquote><h3 id="what-is-that"><span class="me-2">What is that</span><a href="#what-is-that" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>먼저 찾으려고 하는 것들에 대해서 간략하게 설명하면서 넘어가려고 한다.</p><p><a href="https://ruffalolavoisier.github.io/assets/img/2025-08-25-dump_unreal_engine/dynamicres_fn1.png" class="popup img-link shimmer"><img src="https://ruffalolavoisier.github.io/assets/img/2025-08-25-dump_unreal_engine/dynamicres_fn1.png" alt="" class="shadow" loading="lazy"></a> <em>출처: 에픽게임즈</em></p><p><code class="language-plaintext highlighter-rouge">GName</code> 같은 경우 <code class="language-plaintext highlighter-rouge">NamePool</code> data 전역변수로 게임 내 모든 오브젝트에 대하여 할당된 이름들을 가지고 있다. <code class="language-plaintext highlighter-rouge">GUObectArray</code> 같은 경우 오브젝트에 관한 정보가 들어있다고 한다. <code class="language-plaintext highlighter-rouge">GWorld</code> 같은 게임 레벨이나 부가적인 현금 가치들을 찾아볼 수 있다.</p><p>먼저 들어가기 전에 오프셋은 모바일 엔진에서 찾는 과정을 기록하려고 한다. 윈도우 환경 같은 경우 오프셋들이 바로 보여서 찾는 의미가 없기 때문에 모바일 엔진에서 오프셋을 찾는 방법을 시도하였다. 모바일 엔진 같은 경우 심볼들이 지워지고 이름들이 지워져서 오프셋 찾는데 꽤 고생하였다.</p><p>그러나 dump 는 PC 환경에서의 dump 를 진행했다. 맞는 환경에서 올바르게 덤프할 수 있는 도구들이 많이 없었고 이를 가장 올바르게 해줄 수 있는 도구는 윈도우 PC 환경이 유일헀다.</p><p>이때 SDK 를 덤프하면 Unreal Engine 이 어떻게 동작하는지, 어떤 클래스와 메소드가 있는지 볼 수 있다.</p><h2 id="understanding-the-core-issue"><span class="me-2">Understanding the Core Issue</span><a href="#understanding-the-core-issue" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>이제부터 본격적으로 오프셋 찾는 여정을 시작해보려고 한다.</p><p>사실 처음 시작하면 굉장히 많이 고생할 수 있지만 현재 글을 쓰고 있는 필자도 누군가의 도움으로 결국 성공할 수 있었기 때문에 이 글이 누군가의 긴 새벽에 진주가 되길 바라는 마음에 시작한다. 하지만 맨 처음 작성하였는데 악용될 소지가 있어서 자세한 과정은 몇몇 생략하였다.</p><p>먼저 문자열 찾는데 쉽게 접근하려면 String view 에서 <code class="language-plaintext highlighter-rouge">unicode C-style (16 bit)</code> 를 선택한다. IDA Pro 를 사용했는데 분석 도구에 원리만 안다면 Ghidra 나 그 외에 도구를 사용해도 무방할 것 같다.</p><h3 id="version"><span class="me-2">Version</span><a href="#version" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>버전 같은 경우 문자열 윈도우에서 손쉽게 <code class="language-plaintext highlighter-rouge">release</code> 라는 검색을 통해 아래와 같이 찾을 수 있다.</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">const</span> <span class="kr">__int16</span> <span class="o">*</span><span class="nf">sub_166D098</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="s">L"++UE5+Release-5.5-CL-40574608"</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>현재 Unreal Engine 5.5 버전을 대상으로 진행하고 있다.</p><p>또는 Unreal Engine 대상이 Android Application 같은 경우 Androidmanifest 를 확인하면 볼 수 있다.</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>        <span class="nt">&lt;meta-data</span>
            <span class="na">android:name=</span><span class="s">"com.epicgames.unreal.GameActivity.EngineVersion"</span>
            <span class="na">android:value=</span><span class="s">"5.5.4"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;meta-data</span>
            <span class="na">android:name=</span><span class="s">"com.epicgames.unreal.GameActivity.EngineBranch"</span>
            <span class="na">android:value=</span><span class="s">"++UE5+Release-5.5"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;meta-data</span>
</pre></table></code></div></div><p>위에서 볼 수 있는 것처럼 엔진 버전을 확인할 수 있다.</p><h3 id="gname"><span class="me-2">GName</span><a href="#gname" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>다음은 NamePool 을 찾아볼 것이다.</p><p>여기서부터는 엔진 코드를 같이 보면서 접근해야 한다.</p><p>원본 빌드를 볼 수 있지만 원본 코드를 통해 접근하는 것이 오프셋 찾는 데 좀 더 수월하게 접근할 수 있기 때문이다.</p><p>Unreal Engine 을 클론할 경우 공식 사이트에서 에픽게임즈 멤버로 초대되어야 한다.</p><p>이는 본 글에서 다루지 않겠다.</p><p>원본 코드는 <a href="https://github.com/EpicGames/UnrealEngine">여기</a>를 참고하면 된다. 앤진 코드를 클론 받으면 아래와 같이 FNamePool 함수를 찾아볼 수 있다.</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre><span class="n">FNamePool</span><span class="p">::</span><span class="nf">FNamePool</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">FNamePoolShardBase</span><span class="p">&amp;</span> <span class="n">Shard</span> <span class="p">:</span> <span class="n">ComparisonShards</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">Shard</span><span class="p">.</span><span class="nf">Initialize</span><span class="p">(</span><span class="n">Entries</span><span class="p">);</span>
	<span class="p">}</span>

<span class="cp">#if WITH_CASE_PRESERVING_NAME
</span>	<span class="k">for</span> <span class="p">(</span><span class="n">FNamePoolShardBase</span><span class="p">&amp;</span> <span class="n">Shard</span> <span class="p">:</span> <span class="n">DisplayShards</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">Shard</span><span class="p">.</span><span class="nf">Initialize</span><span class="p">(</span><span class="n">Entries</span><span class="p">);</span>
	<span class="p">}</span>
<span class="cp">#endif
</span>
	<span class="c1">// Register all hardcoded names</span>
<span class="cp">#define REGISTER_NAME(num, name) ENameToEntry[num] = Store(FNameStringView(#name, FCStringAnsi::Strlen(#name)));
</span><span class="err">#</span><span class="n">include</span> <span class="s">"UObject/UnrealNames.inl"</span>
<span class="cp">#undef REGISTER_NAME
</span>
	<span class="c1">// Make reverse mapping</span>
	<span class="n">LargestEnameUnstableId</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">uint32</span> <span class="n">ENameIndex</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">ENameIndex</span> <span class="p">&lt;</span> <span class="p">(</span><span class="n">uint32</span><span class="p">)</span><span class="n">EName</span><span class="p">::</span><span class="n">MaxHardcodedNameIndex</span><span class="p">;</span> <span class="p">++</span><span class="n">ENameIndex</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ENameIndex</span> <span class="p">==</span> <span class="p">(</span><span class="n">uint32</span><span class="p">)</span><span class="n">NAME_None</span> <span class="p">||</span> <span class="n">ENameToEntry</span><span class="p">[</span><span class="n">ENameIndex</span><span class="p">])</span>
		<span class="p">{</span>
			<span class="n">EntryToEName</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">ENameToEntry</span><span class="p">[</span><span class="n">ENameIndex</span><span class="p">],</span> <span class="p">(</span><span class="n">EName</span><span class="p">)</span><span class="n">ENameIndex</span><span class="p">);</span>
			<span class="n">LargestEnameUnstableId</span> <span class="p">=</span> <span class="n">FMath</span><span class="p">::</span><span class="nf">Max</span><span class="p">(</span><span class="n">LargestEnameUnstableId</span><span class="p">,</span> <span class="n">ENameToEntry</span><span class="p">[</span><span class="n">ENameIndex</span><span class="p">].</span><span class="nf">ToUnstableInt</span><span class="p">());</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="c1">// Verify all ENames are unique</span>
	<span class="k">if</span> <span class="p">(</span><span class="nf">NumAnsiEntries</span><span class="p">()</span> <span class="p">!=</span> <span class="n">EntryToEName</span><span class="p">.</span><span class="nf">Num</span><span class="p">())</span>
	<span class="p">{</span>
		<span class="c1">// we can't print out here because there may be no log yet if this happens before main starts</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">FPlatformMisc</span><span class="p">::</span><span class="nf">IsDebuggerPresent</span><span class="p">())</span>
		<span class="p">{</span>
			<span class="nf">UE_DEBUG_BREAK</span><span class="p">();</span>
		<span class="p">}</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="n">FPlatformMisc</span><span class="p">::</span><span class="nf">PromptForRemoteDebugging</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
			<span class="n">FMessageDialog</span><span class="p">::</span><span class="nf">Open</span><span class="p">(</span><span class="n">EAppMsgType</span><span class="p">::</span><span class="n">Ok</span><span class="p">,</span> <span class="nf">NSLOCTEXT</span><span class="p">(</span><span class="s">"UnrealEd"</span><span class="p">,</span> <span class="s">"DuplicatedHardcodedName"</span><span class="p">,</span> <span class="s">"Duplicate hardcoded name"</span><span class="p">));</span>
			<span class="n">FPlatformMisc</span><span class="p">::</span><span class="nf">RequestExit</span><span class="p">(</span><span class="k">false</span><span class="p">,</span> <span class="nf">TEXT</span><span class="p">(</span><span class="s">"FNamePool.DuplicateHardcodedName"</span><span class="p">));</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>이를 바이너리에서 찾아보면 아래와 같은 함수로 볼 수 있다.</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="n">__int64</span> <span class="kr">__fastcall</span> <span class="nf">sub_1861BD8</span><span class="p">(</span><span class="n">__int64</span> <span class="n">a1</span><span class="p">)</span>
<span class="p">{</span>
   
   <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

  <span class="k">while</span> <span class="p">(</span> <span class="n">v4</span> <span class="p">);</span>
  <span class="o">*</span><span class="n">v2</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"None"</span><span class="p">,</span> <span class="mi">4LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"ByteProperty"</span><span class="p">,</span> <span class="mi">12LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"IntProperty"</span><span class="p">,</span> <span class="mi">11LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"BoolProperty"</span><span class="p">,</span> <span class="mi">12LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"FloatProperty"</span><span class="p">,</span> <span class="mi">13LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"ObjectProperty"</span><span class="p">,</span> <span class="mi">14LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"NameProperty"</span><span class="p">,</span> <span class="mi">12LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"DelegateProperty"</span><span class="p">,</span> <span class="mi">16LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"DoubleProperty"</span><span class="p">,</span> <span class="mi">14LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"ArrayProperty"</span><span class="p">,</span> <span class="mi">13LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"StructProperty"</span><span class="p">,</span> <span class="mi">14LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"VectorProperty"</span><span class="p">,</span> <span class="mi">14LL</span><span class="p">);</span>
  <span class="n">v2</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub_1863438</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="s">"RotatorProperty"</span><span class="p">,</span> <span class="mi">15LL</span><span class="p">);</span>
 
 
    <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>
 
  <span class="k">if</span> <span class="p">(</span> <span class="n">v13</span> <span class="o">-</span> <span class="n">v18</span> <span class="o">!=</span> <span class="n">v2</span><span class="p">[</span><span class="mi">2754</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">2777</span><span class="p">]</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="n">sub_1762BE8</span><span class="p">(</span><span class="o">&amp;</span><span class="n">v21</span><span class="p">,</span> <span class="s">L"UnrealEd"</span><span class="p">,</span> <span class="mi">8LL</span><span class="p">);</span>
    <span class="n">sub_1762BE8</span><span class="p">(</span><span class="n">v20</span><span class="p">,</span> <span class="s">L"DuplicatedHardcodedName"</span><span class="p">,</span> <span class="mi">23LL</span><span class="p">);</span>
    <span class="n">sub_174085C</span><span class="p">(</span><span class="o">&amp;</span><span class="n">v22</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v21</span><span class="p">,</span> <span class="n">v20</span><span class="p">,</span> <span class="s">L"Duplicate hardcoded name"</span><span class="p">);</span>
    <span class="n">sub_1817C40</span><span class="p">(</span><span class="mi">0LL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v22</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">v22</span> <span class="p">)</span>
      <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="kr">__fastcall</span> <span class="o">**</span><span class="p">)(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="o">*</span><span class="p">))(</span><span class="o">*</span><span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">v22</span> <span class="o">+</span> <span class="mi">24LL</span><span class="p">))(</span><span class="n">v22</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">sub_166D208</span><span class="p">(</span><span class="mi">0LL</span><span class="p">,</span> <span class="s">"F"</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>이때 <code class="language-plaintext highlighter-rouge">v2[6] = sub_1863438(a1, "NameProperty", 12LL);</code> 를 예로 들어본다면 맨 앞에 오는 매개변수가 NamePool 에 대한 포인터이다.</p><p>이를 호출하는 곳으로 찾아가면 아래와 같다.</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="n">__int64</span> <span class="kr">__fastcall</span> <span class="nf">sub_18638B0</span><span class="p">(</span><span class="kt">int</span> <span class="n">a1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a2</span><span class="p">)</span>
<span class="p">{</span>

  <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

  <span class="n">v28</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">_ReadStatusReg</span><span class="p">(</span><span class="n">ARM64_SYSREG</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="mi">40</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="n">byte_888DA69</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="n">sub_1861BD8</span><span class="p">((</span><span class="n">__int64</span><span class="p">)</span><span class="o">&amp;</span><span class="n">unk_888DA80</span><span class="p">);</span> <span class="c1">// Here call stack :)</span>
    <span class="n">byte_888DA69</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">v4</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kr">__int16</span> <span class="o">*</span><span class="p">)(</span><span class="n">qword_888DAC0</span><span class="p">[</span><span class="n">HIWORD</span><span class="p">(</span><span class="n">a1</span><span class="p">)]</span> <span class="o">+</span> <span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">a1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1FFFE</span><span class="p">));</span>
  <span class="n">v5</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kr">__int16</span> <span class="o">*</span><span class="p">)(</span><span class="n">qword_888DAC0</span><span class="p">[</span><span class="n">HIWORD</span><span class="p">(</span><span class="n">a2</span><span class="p">)]</span> <span class="o">+</span> <span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">a2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1FFFE</span><span class="p">));</span>

  <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

<span class="p">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">sub_1861BD8</code> 에 대하여 호출하는 곳을 확인해보면 <code class="language-plaintext highlighter-rouge">unk_888DA80</code> 를 볼 수 있는데 888DA80 가 오프셋이다.</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="n">bool</span> <span class="kr">__fastcall</span> <span class="nf">sub_18654A8</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">__int64</span> <span class="n">a1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kr">__int16</span> <span class="o">*</span><span class="n">a2</span><span class="p">,</span> <span class="kt">signed</span> <span class="kt">int</span> <span class="n">a3</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>
    <span class="n">v8</span> <span class="o">=</span> <span class="n">HIDWORD</span><span class="p">(</span><span class="n">a1</span><span class="p">);</span>
    <span class="n">v9</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">a1</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="n">byte_888DA69</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
    <span class="p">{</span>
      <span class="n">sub_1861BD8</span><span class="p">((</span><span class="n">__int64</span><span class="p">)</span><span class="o">&amp;</span><span class="n">unk_888DA80</span><span class="p">);</span> <span class="c1">// Here another call stack</span>
      <span class="n">byte_888DA69</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

<span class="p">}</span>
</pre></table></code></div></div><p>다른 호출부를 보면 먼저 접근 방식과 동일하게 오프셋을 확인할 수 있다.</p><h3 id="gobject-guobjectarray"><span class="me-2">GObject (GUObjectArray)</span><a href="#gobject-guobjectarray" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>이번에는 <code class="language-plaintext highlighter-rouge">GUObjectArray</code> 를 찾아본다, <code class="language-plaintext highlighter-rouge">GObject</code> 도 비슷한 방법으로 찾으면 된다.</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre>
<span class="n">int32</span> <span class="n">FEngineLoop</span><span class="p">::</span><span class="nf">PreInitPostStartupScreen</span><span class="p">(</span><span class="k">const</span> <span class="n">TCHAR</span><span class="p">*</span> <span class="n">CmdLine</span><span class="p">){</span>

    <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

<span class="cp">#else // !WITH_ENGINE
#if WITH_COREUOBJECT
</span>	<span class="c1">// Initialize the PackageResourceManager, which is needed to load any (non-script) Packages.</span>
	<span class="n">IPackageResourceManager</span><span class="p">::</span><span class="nf">Initialize</span><span class="p">();</span>
<span class="cp">#endif
#endif // WITH_ENGINE
</span>
<span class="cp">#if WITH_COREUOBJECT
</span>	<span class="k">if</span> <span class="p">(</span><span class="n">GUObjectArray</span><span class="p">.</span><span class="nf">IsOpenForDisregardForGC</span><span class="p">())</span>
	<span class="p">{</span>
		<span class="nf">SCOPED_BOOT_TIMING</span><span class="p">(</span><span class="s">"CloseDisregardForGC"</span><span class="p">);</span>
		<span class="n">GUObjectArray</span><span class="p">.</span><span class="nf">CloseDisregardForGC</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="nf">NotifyRegistrationComplete</span><span class="p">();</span>
	<span class="n">FReferencerFinder</span><span class="p">::</span><span class="nf">NotifyRegistrationComplete</span><span class="p">();</span>
<span class="cp">#endif // WITH_COREUOBJECT
</span>
<span class="cp">#if WITH_ENGINE
</span>	<span class="k">if</span> <span class="p">(</span><span class="n">UOnlineEngineInterface</span><span class="p">::</span><span class="nf">Get</span><span class="p">()-&gt;</span><span class="nf">IsLoaded</span><span class="p">())</span>
	<span class="p">{</span>
		<span class="nf">SetIsServerForOnlineSubsystemsDelegate</span><span class="p">(</span><span class="n">FQueryIsRunningServer</span><span class="p">::</span><span class="nf">CreateStatic</span><span class="p">(&amp;</span><span class="n">IsServerDelegateForOSS</span><span class="p">));</span>
	<span class="p">}</span>

	<span class="n">SlowTask</span><span class="p">.</span><span class="nf">EnterProgressFrame</span><span class="p">(</span><span class="m">5</span><span class="p">);</span>

    <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

<span class="p">}</span>
</pre></table></code></div></div><p>위 코드를 보면 <code class="language-plaintext highlighter-rouge">GUObjectArray.CloseDisregardForGC();</code> 와 같은 코드가 있는데 이를 바이너리 쪽에서 보면 아래와 같다.</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="n">__int64</span> <span class="kr">__fastcall</span> <span class="nf">sub_48642C0</span><span class="p">(</span><span class="n">__int64</span> <span class="n">a1</span><span class="p">)</span>
<span class="p">{</span>

    <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

  <span class="n">v130</span> <span class="o">=</span> <span class="n">sub_17F5A44</span><span class="p">(</span><span class="o">&amp;</span><span class="n">v236</span><span class="p">,</span> <span class="s">"LoadStartupModules"</span><span class="p">);</span>
  <span class="n">v131</span> <span class="o">=</span> <span class="n">sub_48663EC</span><span class="p">(</span><span class="n">v130</span><span class="p">);</span>
  <span class="n">v132</span> <span class="o">=</span> <span class="p">((</span><span class="n">__int64</span> <span class="p">(</span><span class="kr">__fastcall</span> <span class="o">*</span><span class="p">)(</span><span class="kr">__int16</span> <span class="o">**</span><span class="p">))</span><span class="n">sub_166D1F8</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">v236</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="n">v131</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
    <span class="k">goto</span> <span class="n">LABEL_137</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span> <span class="n">byte_88E67C4</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="n">sub_17F5A44</span><span class="p">(</span><span class="o">&amp;</span><span class="n">v236</span><span class="p">,</span> <span class="s">"CloseDisregardForGC"</span><span class="p">);</span>
    <span class="n">sub_1AAC81C</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dword_88E67B8</span><span class="p">);</span> <span class="c1">// Here GUObjectArray </span>
    <span class="n">v132</span> <span class="o">=</span> <span class="p">((</span><span class="n">__int64</span> <span class="p">(</span><span class="kr">__fastcall</span> <span class="o">*</span><span class="p">)(</span><span class="kr">__int16</span> <span class="o">**</span><span class="p">))</span><span class="n">sub_166D1F8</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">v236</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">v133</span> <span class="o">=</span> <span class="n">sub_1925D10</span><span class="p">(</span><span class="n">v132</span><span class="p">);</span>
  <span class="n">v134</span> <span class="o">=</span> <span class="n">sub_1A83C84</span><span class="p">(</span><span class="n">v133</span><span class="p">);</span>
  <span class="n">v135</span> <span class="o">=</span> <span class="n">sub_4197048</span><span class="p">(</span><span class="n">v134</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span> <span class="p">((</span><span class="o">*</span><span class="p">(</span><span class="n">__int64</span> <span class="p">(</span><span class="kr">__fastcall</span> <span class="o">**</span><span class="p">)(</span><span class="n">__int64</span><span class="p">,</span> <span class="n">_QWORD</span><span class="p">))(</span><span class="o">*</span><span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">v135</span> <span class="o">+</span> <span class="mi">720LL</span><span class="p">))(</span><span class="n">v135</span><span class="p">,</span> <span class="mi">0LL</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="n">v234</span> <span class="o">=</span> <span class="mi">0LL</span><span class="p">;</span>
    <span class="n">v235</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">v136</span> <span class="o">=</span> <span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">sub_16BDCF8</span><span class="p">(</span><span class="mi">32LL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v234</span><span class="p">);</span>
    <span class="o">*</span><span class="n">v136</span> <span class="o">=</span> <span class="n">off_771AA28</span><span class="p">;</span>
    <span class="n">v137</span> <span class="o">=</span> <span class="n">sub_16BDD50</span><span class="p">();</span>

    <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

<span class="p">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">sub_1AAC81C</code> 에 넘어가는 <code class="language-plaintext highlighter-rouge">dword_88E67B8</code> 이 <code class="language-plaintext highlighter-rouge">GUObjectArray</code> 에 대한 <code class="language-plaintext highlighter-rouge">8E67B8</code> 오프셋이다.</p><p>아래와 같은 방법으로도 접근할 수 있다.</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="k">void</span> <span class="n">FUObjectArray</span><span class="p">::</span><span class="nf">AllocateObjectPool</span><span class="p">(</span><span class="n">int32</span> <span class="n">InMaxUObjects</span><span class="p">,</span> <span class="n">int32</span> <span class="n">InMaxObjectsNotConsideredByGC</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">bPreAllocateObjectArray</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nf">check</span><span class="p">(</span><span class="nf">IsInGameThread</span><span class="p">());</span>

	<span class="n">MaxObjectsNotConsideredByGC</span> <span class="p">=</span> <span class="n">InMaxObjectsNotConsideredByGC</span><span class="p">;</span>

	<span class="c1">// GObjFirstGCIndex is the index at which the garbage collector will start for the mark phase.</span>
	<span class="c1">// If disregard for GC is enabled this will be set to an invalid value so that later we</span>
	<span class="c1">// know if disregard for GC pool has already been closed (at least once)</span>
	<span class="n">ObjFirstGCIndex</span> <span class="p">=</span> <span class="nf">DisregardForGCEnabled</span><span class="p">()</span> <span class="p">?</span> <span class="p">-</span><span class="m">1</span> <span class="p">:</span> <span class="m">0</span><span class="p">;</span>

	<span class="c1">// Pre-size array.</span>
	<span class="nf">check</span><span class="p">(</span><span class="n">ObjObjects</span><span class="p">.</span><span class="nf">Num</span><span class="p">()</span> <span class="p">==</span> <span class="m">0</span><span class="p">);</span>
	<span class="nf">UE_CLOG</span><span class="p">(</span><span class="n">InMaxUObjects</span> <span class="p">&lt;=</span> <span class="m">0</span><span class="p">,</span> <span class="n">LogUObjectArray</span><span class="p">,</span> <span class="n">Fatal</span><span class="p">,</span> <span class="nf">TEXT</span><span class="p">(</span><span class="s">"Max UObject count is invalid. It must be a number that is greater than 0."</span><span class="p">));</span>
	<span class="n">ObjObjects</span><span class="p">.</span><span class="nf">PreAllocate</span><span class="p">(</span><span class="n">InMaxUObjects</span><span class="p">,</span> <span class="n">bPreAllocateObjectArray</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">MaxObjectsNotConsideredByGC</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">ObjObjects</span><span class="p">.</span><span class="nf">AddRange</span><span class="p">(</span><span class="n">MaxObjectsNotConsideredByGC</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">AllocateObjectPool</code> 를 역으로 호출하는 곳을 찾는다.</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="k">void</span> <span class="nf">UObjectBaseInit</span><span class="p">(){</span>

    <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

	<span class="c1">// Log what we're doing to track down what really happens as log in LaunchEngineLoop doesn't report those settings in pristine form.</span>
	<span class="nf">UE_LOG</span><span class="p">(</span><span class="n">LogInit</span><span class="p">,</span> <span class="n">Log</span><span class="p">,</span> <span class="nf">TEXT</span><span class="p">(</span><span class="s">"%s for max %d objects, including %i objects not considered by GC."</span><span class="p">),</span> 
		<span class="n">bPreAllocateUObjectArray</span> <span class="p">?</span> <span class="nf">TEXT</span><span class="p">(</span><span class="s">"Pre-allocating"</span><span class="p">)</span> <span class="p">:</span> <span class="nf">TEXT</span><span class="p">(</span><span class="s">"Presizing"</span><span class="p">),</span> <span class="n">MaxUObjects</span><span class="p">,</span> <span class="n">MaxObjectsNotConsideredByGC</span><span class="p">);</span>

	<span class="n">GUObjectArray</span><span class="p">.</span><span class="nf">AllocateObjectPool</span><span class="p">(</span><span class="n">MaxUObjects</span><span class="p">,</span> <span class="n">MaxObjectsNotConsideredByGC</span><span class="p">,</span> <span class="n">bPreAllocateUObjectArray</span><span class="p">);</span>
<span class="cp">#if UE_WITH_OBJECT_HANDLE_LATE_RESOLVE
</span>	<span class="n">UE</span><span class="p">::</span><span class="n">CoreUObject</span><span class="p">::</span><span class="n">Private</span><span class="p">::</span><span class="nf">InitObjectHandles</span><span class="p">(</span><span class="n">GUObjectArray</span><span class="p">.</span><span class="nf">GetObjectArrayCapacity</span><span class="p">());</span>
<span class="cp">#endif
</span>    <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

<span class="p">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">GUObjectArray.AllocateObjectPool</code> 이렇게 호출되는데 바이너리쪽에서 보면 아래와 같다.</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
</pre><td class="rouge-code"><pre><span class="n">__int64</span> <span class="kr">__fastcall</span> <span class="nf">sub_1AAC578</span><span class="p">(</span><span class="n">__int64</span> <span class="n">a1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a3</span><span class="p">,</span> <span class="kt">char</span> <span class="n">a4</span><span class="p">)</span> <span class="c1">// call stack</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">v7</span><span class="p">;</span> <span class="c1">// w8</span>
  <span class="n">__int64</span> <span class="n">result</span><span class="p">;</span> <span class="c1">// x0</span>
  <span class="kt">int</span> <span class="n">v9</span><span class="p">;</span> <span class="c1">// w20</span>
  <span class="kt">int</span> <span class="n">v10</span><span class="p">;</span> <span class="c1">// w21</span>
  <span class="kt">int</span> <span class="n">v11</span><span class="p">;</span> <span class="c1">// w22</span>
  <span class="kt">int</span> <span class="n">v12</span><span class="p">;</span> <span class="c1">// w8</span>
  <span class="kt">int</span> <span class="n">v13</span><span class="p">;</span> <span class="c1">// w24</span>
  <span class="kt">int</span> <span class="n">v14</span><span class="p">;</span> <span class="c1">// w22</span>
  <span class="n">__int64</span> <span class="n">v15</span><span class="p">;</span> <span class="c1">// x25</span>
  <span class="n">_QWORD</span> <span class="o">*</span><span class="n">v16</span><span class="p">;</span> <span class="c1">// x0</span>
  <span class="kt">unsigned</span> <span class="n">__int64</span> <span class="n">v17</span><span class="p">;</span> <span class="c1">// x21</span>

  <span class="k">if</span> <span class="p">(</span> <span class="n">a3</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="p">)</span>
    <span class="n">v7</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="n">v7</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">8</span><span class="p">)</span> <span class="o">=</span> <span class="n">a3</span><span class="p">;</span>
  <span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">a1</span> <span class="o">=</span> <span class="n">v7</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span> <span class="n">a2</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="p">)</span>
    <span class="n">sub_17B1018</span><span class="p">(</span>
      <span class="s">"./Runtime/CoreUObject/Private/UObject/UObjectArray.cpp"</span><span class="p">,</span>
      <span class="mi">124LL</span><span class="p">,</span>
      <span class="s">L"Max UObject count is invalid. It must be a number that is greater than 0."</span><span class="p">);</span>
  <span class="n">result</span> <span class="o">=</span> <span class="n">sub_1AAC6E0</span><span class="p">(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">16</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">a2</span><span class="p">,</span> <span class="n">a4</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">);</span>
  <span class="n">v9</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">8</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span> <span class="n">v9</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="n">v10</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">32</span><span class="p">);</span>
    <span class="n">v11</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">36</span><span class="p">)</span> <span class="o">+</span> <span class="n">v9</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">v11</span> <span class="o">&gt;</span> <span class="n">v10</span> <span class="p">)</span>
    <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span> <span class="n">dword_88E5A20</span> <span class="p">)</span>
        <span class="n">sub_1AAE74C</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dword_88E67B8</span><span class="p">);</span>
      <span class="n">result</span> <span class="o">=</span> <span class="n">sub_17B1018</span><span class="p">(</span>
                 <span class="s">"./Runtime/CoreUObject/Private/UObject/UObjectArray.cpp"</span><span class="p">,</span>
                 <span class="mi">612LL</span><span class="p">,</span>
                 <span class="s">L"Maximum number of UObjects (%d) exceeded when trying to add %d object(s), make sure you update MaxObjec"</span>
                  <span class="s">"tsInGame/MaxObjectsInEditor/MaxObjectsInProgram in project settings."</span><span class="p">,</span>
                 <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">v10</span><span class="p">,</span>
                 <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">v9</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">v12</span> <span class="o">=</span> <span class="n">v11</span> <span class="o">+</span> <span class="mi">65534</span><span class="p">;</span>
    <span class="n">v13</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">44</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">v11</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span>
      <span class="n">v12</span> <span class="o">=</span> <span class="n">v11</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">v14</span> <span class="o">=</span> <span class="n">v12</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span> <span class="n">v14</span> <span class="o">&gt;=</span> <span class="n">v13</span> <span class="p">)</span>
    <span class="p">{</span>
      <span class="n">v15</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">16</span><span class="p">);</span>
      <span class="n">v16</span> <span class="o">=</span> <span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">operator</span> <span class="n">new</span><span class="p">(</span><span class="mh">0x180008uLL</span><span class="p">);</span>
      <span class="o">*</span><span class="n">v16</span> <span class="o">=</span> <span class="mh">0x10000LL</span><span class="p">;</span>
      <span class="n">v17</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="n">__int64</span><span class="p">)(</span><span class="n">v16</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
      <span class="n">memset</span><span class="p">(</span><span class="n">v16</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x180000uLL</span><span class="p">);</span>
      <span class="n">result</span> <span class="o">=</span> <span class="n">_aarch64_cas8_acq_rel</span><span class="p">(</span><span class="mi">0LL</span><span class="p">,</span> <span class="n">v17</span><span class="p">,</span> <span class="p">(</span><span class="n">atomic_ullong</span> <span class="o">*</span><span class="p">)(</span><span class="n">v15</span> <span class="o">+</span> <span class="mi">8LL</span> <span class="o">*</span> <span class="n">v13</span><span class="p">));</span>
      <span class="n">v13</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">44</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">result</span> <span class="p">)</span>
        <span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">44</span><span class="p">)</span> <span class="o">=</span> <span class="o">++</span><span class="n">v13</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">36</span><span class="p">)</span> <span class="o">+=</span> <span class="n">v9</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>아래 함수에서 위의 <code class="language-plaintext highlighter-rouge">sub_1AAC578</code> 가 호출되는 곳을 찾아보는데</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="n">__n128</span> <span class="nf">sub_1AB08C0</span><span class="p">()</span>
<span class="p">{</span>

<span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

  <span class="n">sub_17D24A4</span><span class="p">(</span><span class="n">qword_8875430</span><span class="p">,</span> <span class="s">"/"</span><span class="p">,</span> <span class="s">L"gc.MaxObjectsInGame"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v12</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">qword_887FFE8</span><span class="p">);</span>
  <span class="n">sub_17B73E8</span><span class="p">(</span><span class="n">qword_8875430</span><span class="p">,</span> <span class="s">"/"</span><span class="p">,</span> <span class="s">L"gc.PreAllocateUObjectArray"</span><span class="p">,</span> <span class="n">v11</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">qword_887FFE8</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">v13</span> <span class="p">)</span>
    <span class="n">byte_88E5A01</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">v1</span> <span class="o">=</span> <span class="n">sub_1AAC578</span><span class="p">((</span><span class="n">__int64</span><span class="p">)</span><span class="o">&amp;</span><span class="n">dword_88E67B8</span><span class="p">,</span> <span class="n">v12</span><span class="p">,</span> <span class="n">v13</span><span class="p">,</span> <span class="n">v11</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="c1">// Here</span>
  <span class="n">v2</span> <span class="o">=</span> <span class="n">sub_1A16E58</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
  <span class="n">sub_1924D88</span><span class="p">(</span><span class="n">v2</span><span class="p">);</span>
  <span class="n">byte_88E5A11</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">sub_17F5A44</span><span class="p">(</span><span class="n">v17</span><span class="p">,</span> <span class="s">"UObjectProcessRegistrants"</span><span class="p">);</span>
  <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">qword_88E5A70</span><span class="p">;</span>
  <span class="n">v15</span> <span class="o">=</span> <span class="mi">0LL</span><span class="p">;</span>
  <span class="n">v16</span> <span class="o">=</span> <span class="mi">0LL</span><span class="p">;</span>
  <span class="n">qword_88E5A68</span> <span class="o">=</span> <span class="mi">0LL</span><span class="p">;</span>
  <span class="n">qword_88E5A70</span> <span class="o">=</span> <span class="mi">0LL</span><span class="p">;</span>
  
  <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

<span class="p">}</span>
</pre></table></code></div></div><p>맨 첫 매개변수 <code class="language-plaintext highlighter-rouge">dword_88E67B8</code> 가 <code class="language-plaintext highlighter-rouge">GUObejctArray</code> 에 대한 오프셋으로 동일하게 나온 것을 볼 수 있다.</p><h3 id="gworld"><span class="me-2">GWORLD</span><a href="#gworld" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">GWorld</code> 같은 경우 찾기가 쉽지 않는데</p><p>여러 코드를 분석한 결과 아래와 같은 함수를 찾을 수 있다.</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre><td class="rouge-code"><pre>
  <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span> <span class="n">v163</span> <span class="o">==</span> <span class="mi">3</span> <span class="p">)</span>                                              <span class="c1">// if (WorldContext.WorldType == EWorldType::PIE)</span>
        <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span> <span class="n">v159</span> <span class="o">||</span> <span class="p">(</span><span class="n">v164</span> <span class="o">=</span> <span class="n">v249</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">_BYTE</span> <span class="o">*</span><span class="p">)(</span><span class="n">v249</span> <span class="o">+</span> <span class="mi">314</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">)</span>   <span class="c1">// if (bPackageAlreadyLoaded || NewWorld-&gt;WorldType == EWorldType::Editor)</span>
          <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="o">*</span><span class="p">((</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">a2</span> <span class="o">+</span> <span class="mi">136</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>                        <span class="c1">// if (WorldContext.PIEInstance == -1)</span>
              <span class="o">*</span><span class="p">((</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">a2</span> <span class="o">+</span> <span class="mi">136</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">v164</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">__int64</span> <span class="p">(</span><span class="kr">__fastcall</span> <span class="o">**</span><span class="p">)(</span><span class="n">_BYTE</span> <span class="o">*</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kr">__int8</span> <span class="o">*</span><span class="p">,</span> <span class="n">__int64</span><span class="p">,</span> <span class="n">__int64</span><span class="p">))(</span><span class="o">*</span><span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">1088LL</span><span class="p">))(</span>
                     <span class="n">a1</span><span class="p">,</span>
                     <span class="n">a2</span><span class="p">,</span>
                     <span class="n">v249</span><span class="p">,</span>
                     <span class="n">v8</span><span class="p">);</span>
            <span class="n">v249</span> <span class="o">=</span> <span class="n">v164</span><span class="p">;</span>
            <span class="n">byte_888010C</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">*</span><span class="p">((</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">a2</span> <span class="o">+</span> <span class="mi">136</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>                     <span class="c1">// else if (WorldContext.PIEInstance != -1)</span>
          <span class="p">{</span>
            <span class="n">Java_com_epicgames_unreal_NativeCalls_HandleCustomTouchEvent</span><span class="p">(</span><span class="n">v249</span><span class="p">,</span> <span class="n">v161</span><span class="p">,</span> <span class="n">v162</span><span class="p">);</span>
            <span class="n">v164</span> <span class="o">=</span> <span class="n">v249</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="kr">__fastcall</span> <span class="o">**</span><span class="p">)(</span><span class="n">_BYTE</span> <span class="o">*</span><span class="p">,</span> <span class="n">__int64</span><span class="p">))(</span><span class="o">*</span><span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">a1</span> <span class="o">+</span> <span class="mi">1048LL</span><span class="p">))(</span><span class="n">a1</span><span class="p">,</span> <span class="n">v164</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">goto</span> <span class="n">LABEL_357</span><span class="p">;</span>
      <span class="err">}</span>
    <span class="err">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">v249</span> <span class="o">=</span> <span class="n">sub_461FF2C</span><span class="p">(</span><span class="n">v250</span><span class="p">,</span> <span class="mi">0LL</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">v249</span> <span class="p">)</span>
        <span class="k">goto</span> <span class="n">LABEL_359</span><span class="p">;</span>
      <span class="n">v250</span> <span class="o">=</span> <span class="p">((</span><span class="n">__int64</span> <span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="kt">void</span><span class="p">))</span><span class="n">sub_1AA8A70</span><span class="p">)();</span>
      <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">v249</span> <span class="p">)</span>
        <span class="k">goto</span> <span class="n">LABEL_359</span><span class="p">;</span>
      <span class="n">v159</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="n">sub_40B4A94</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">_QWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">v249</span> <span class="o">+</span> <span class="mi">48</span><span class="p">));</span>
      <span class="n">v163</span> <span class="o">=</span> <span class="o">*</span><span class="n">a2</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span> <span class="n">v163</span> <span class="o">!=</span> <span class="mi">1</span> <span class="p">)</span>
        <span class="k">goto</span> <span class="n">LABEL_258</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)(</span><span class="n">v249</span> <span class="o">+</span> <span class="mi">315</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x40</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="p">((</span><span class="n">_DWORD</span> <span class="o">*</span><span class="p">)</span><span class="n">a2</span> <span class="o">+</span> <span class="mi">136</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>             <span class="c1">// if (NewWorld-&gt;bIsWorldInitialized &amp;&amp; WorldContext.PIEInstance != -1)</span>
    <span class="p">{</span>
      <span class="n">v249</span> <span class="o">=</span> <span class="n">sub_459E16C</span><span class="p">(</span><span class="n">a2</span><span class="p">,</span> <span class="n">v8</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v250</span><span class="p">);</span>                                                    <span class="c1">// NewWorld = CreatePIEWorldByLoadingFromPackage(WorldContext, URL.Map, WorldPackage);</span>
      <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">v249</span> <span class="p">)</span>                                                                          <span class="c1">// if (NewWorld == nullptr)</span>

  <span class="p">{</span> <span class="p">.</span> <span class="p">.</span> <span class="p">.</span> <span class="p">}</span>

</pre></table></code></div></div><p>위에서 좀 더 살펴보면 <code class="language-plaintext highlighter-rouge">GWorld</code> 에 해당하는 오프셋을 찾아볼 수 있다.</p><h3 id="sdk-generation"><span class="me-2">SDK Generation</span><a href="#sdk-generation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>해당 정보를 토대로 dump 를 추출할 수 있다.</p><p>그러나 앞서 언급했듯이 SDK 를 덤프하는 것은 PC 환경을 통해 진행하려고 한다.</p><p>PC 에서는 오프셋이 바로 보여서 찾는 수고가 없으며 반대로 모바일에서는 찾는 게 난해하여 오프셋이 안 보인다. 따라서 오프셋 찾는 과정은 모바일을 기반으로, dump 과정은 pc 를 기반으로 진행한다.</p><p>dump 를 진행할 때 사용할 수 있는 오픈소스 프로젝트가 있다.</p><p>dll 인젝션 방식을 사용하며 구현할 수 있으며 버전마다 호환성을 자동으로 잡아주는 아주 편리한 친구이다.</p><p>인젝션은 여러 방법이 있는데 코드로 구현했다.</p><p>인젝션할 수 있는 코드는 여기서 설명하지 않는다. 코드가 완성됐다고 가정하고 실행하면 아래와 같이 인젝션할 수 있는 대화상자가 나타난다.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="o">===</span> Simple DLL Injector <span class="o">===</span>
Enter target process name <span class="o">(</span>e.g., notepad.exe<span class="o">)</span>: Redacted.exe
Enter DLL path: C:<span class="se">\U</span>sers<span class="se">\r</span>oot<span class="se">\i</span>nject.dll
Found process ID: 91984
DLL injected successfully!
Injection completed successfully!
</pre></table></code></div></div><p>그리고 인젝션되고서 오프셋을 찾고 로드된 엔진을 메모리 덤프한다.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
</pre><td class="rouge-code"><pre>Started Generation

Searching <span class="k">for </span>GObjects...

Found FChunkedFixedUObjectArray GObjects at offset 0xREDACTED

Off::InSDK::ObjArray::FUObjectItemSize: 18

Found <span class="s1">'FNamePool GNames'</span> at offset 0xREDACTED

Found FName::AppendString at Offset 0xREDACTED

Off::UObject::Flags: 0x8
Off::UObject::Index: 0xC
Off::UObject::Class: 0x10
Off::UObject::Outer: 0x20
Off::UObject::Name: 0x18

Off::UClass::CastFlags: 0xD8
Off::UStruct::Children: 0x48
Off::UField::Next: 0x28
Off::UStruct::SuperStruct: 0x40
Off::UStruct::Size: 0x58
Off::UStruct::MinAlignment: 0x5C
Off::UClass::CastFlags: 0xD8

Game uses FProperty system

Off::UStruct::ChildProperties: 0x50
Applaying fix to hardcoded offsets

Off::FField::Next: 0x18
Off::FField::Class: 0x8
Off::FField::Name: 0x20
Off::FField::Flags: 0x24
Off::UClass::ClassDefaultObject: 0x110
Off::UClass::ImplementedInterfaces: 0x1D8
Off::UEnum::Names: 0x40

Off::UFunction::FunctionFlags: 0xB0
Off::UFunction::ExecFunction: 0xD8

Off::Property::ElementSize: 0x34
Off::Property::ArrayDim: 0x30
Off::Property::Offset_Internal: 0x44
Off::Property::PropertyFlags: 0x38
UBoolProperty::Base: 0x70

Off::EnumProperty::Base: 0x70

UPropertySize: 0x70

Off::ObjectProperty::PropertyClass: 0x70
Off::ByteProperty::Enum: 0x70
Off::StructProperty::Struct: 0x70

Off::DelegateProperty::SignatureFunction: 0x70

Off::ArrayProperty::Inner: 0x78
Off::SetProperty::ElementProp: 0x70
Off::MapProperty::Base: 0x70

Off::InSDK::ULevel::Actors: 0xA0

Off::InSDK::UDataTable::RowMap: 0x30


PE-Offset: 0xREDACTED
PE-Index: 0x4F

GWorld-Offset: 0xREDACTED

Off::InSDK::Text::TextSize: 0x10
Off::InSDK::Text::TextDatOffset: 0x0
Off::InSDK::Text::InTextDataStringOffset: 0x18


info: bIsObjPtrInsteadOfFieldPathProperty <span class="o">=</span> <span class="nb">false


</span>info: bUseUint8ArrayDim <span class="o">=</span> <span class="nb">false

</span>GameName: Redacted-5+Release-5.5



Generating SDK took <span class="o">(</span>5720.89ms<span class="o">)</span>
</pre></table></code></div></div><p>덤프한 결과를 code 에서는 다음과 같이 볼 수 있다.</p><p><a href="https://ruffalolavoisier.github.io/assets/img/2025-08-25-dump_unreal_engine/2025-09-05-01-51-33.png" class="popup img-link shimmer"><img src="https://ruffalolavoisier.github.io/assets/img/2025-08-25-dump_unreal_engine/2025-09-05-01-51-33.png" alt="" loading="lazy"></a></p><p>덤프를 진행하면 위와 같이 덤프된 SDK 를 확인할 수 있다.</p><h2 id="conclusion"><span class="me-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>여기까지 오프셋을 찾아봤는데 Unreal Engine 에 대한 리버싱 과정을 정리하였다. 모바일에서도 자동으로 오프셋과 덤프를 할 수 있는 방법을 모색해볼 수 있을 것으로 예상된다. 시간이 가능하면 모바일에서도 자동으로 덤프해주는 도구를 만들어볼까 생각해본다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/game/">Game</a>, <a href="/categories/unreal-engine/">Unreal-Engine</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/game/" class="post-tag no-text-decoration" >Game</a> <a href="/tags/windows/" class="post-tag no-text-decoration" >Windows</a> <a href="/tags/android/" class="post-tag no-text-decoration" >Android</a> <a href="/tags/unreal-engine/" class="post-tag no-text-decoration" >Unreal-Engine</a> <a href="/tags/ios/" class="post-tag no-text-decoration" >iOS</a> <a href="/tags/reverse/" class="post-tag no-text-decoration" >Reverse</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author. <br>If you find any errors, please let me know by comment or email. Thank you.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Reverse%20Engineering%20for%20Unreal%20Engine%20-%20Unforgettable&url=https%3A%2F%2Fruffalolavoisier.github.io%2Fposts%2Fdump_unreal_engine%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Reverse%20Engineering%20for%20Unreal%20Engine%20-%20Unforgettable&u=https%3A%2F%2Fruffalolavoisier.github.io%2Fposts%2Fdump_unreal_engine%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fruffalolavoisier.github.io%2Fposts%2Fdump_unreal_engine%2F&text=Reverse%20Engineering%20for%20Unreal%20Engine%20-%20Unforgettable" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/android_reverse_note/">The Hidden Originals - How Protection Layers Conceal Apps</a><li class="text-truncate lh-lg"> <a href="/posts/dump_unreal_engine/">Reverse Engineering for Unreal Engine</a><li class="text-truncate lh-lg"> <a href="/posts/study_of_license_bypass_for_010_editor/">How to check license on 010 editor ?</a><li class="text-truncate lh-lg"> <a href="/posts/an_error_occurred_while_preparing_the_installation/">An error occurred while preparing the installation</a><li class="text-truncate lh-lg"> <a href="/posts/research_android_analysis_tool/">Developed Android analysis tool for executable file</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/android/">Android</a> <a class="post-tag btn btn-outline-primary" href="/tags/research/">Research</a> <a class="post-tag btn btn-outline-primary" href="/tags/develop/">Develop</a> <a class="post-tag btn btn-outline-primary" href="/tags/malware/">Malware</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">Git</a> <a class="post-tag btn btn-outline-primary" href="/tags/blog/">Blog</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux/">Linux</a> <a class="post-tag btn btn-outline-primary" href="/tags/reverse/">Reverse</a> <a class="post-tag btn btn-outline-primary" href="/tags/mobile/">Mobile</a> <a class="post-tag btn btn-outline-primary" href="/tags/software-developer/">Software developer</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/android_reverse_note/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1760541109" data-df="ll" > Oct 16, 2025 </time><h4 class="pt-0 my-2"><b>The Hidden Originals - How Protection Layers Conceal Apps</b></h4><div class="text-muted"><p>How SO Files Work in Software Protection (feat. Vermillion)</p></div></div></a></article><article class="col"> <a href="/posts/bypass_rasp/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1745775582" data-df="ll" > Apr 28, 2025 </time><h4 class="pt-0 my-2"><b>RASP 에 대한 고찰</b></h4><div class="text-muted"><p>Runtime Application Self-Protection (RASP)</p></div></div></a></article><article class="col"> <a href="/posts/research_android_analysis_tool/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1734616575" data-df="ll" > Dec 19, 2024 </time><h4 class="pt-0 my-2"><b>Developed Android analysis tool for executable file</b></h4><div class="text-muted"><p>Over the past three months, a total of 34 variations were identified during the analysis, and numerous tools were available for parsing them. Based on this, I plan to research and develop a fundame...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/factory_reset_and_dell_charger_is_not_working/" class="btn btn-outline-primary" aria-label="Older" ><p><b>공장 초기화 후 DELL 노트북 충전기의 동작에 관하여</b></p></a> <a href="/posts/study_of_license_bypass_for_010_editor/" class="btn btn-outline-primary" aria-label="Newer" ><p><b>How to check license on 010 editor ?</b></p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/RuffaloLavoisier">Ruffalo</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p><div class='typing'>I'm <STRONG><span class="text"></span></STRONG></div><script> document.addEventListener("DOMContentLoaded", function () { const $text = document.querySelector(".typing .text"); const letters = [ "Developer", "Author", "Creator", "Inventor", "Conductor", "Traveler" ]; const speed = 100; let i = 0; const typing = async () => { const letter = letters[i].split(""); while (letter.length) { await wait(speed); $text.innerHTML += letter.shift(); } await wait(800); remove(); }; const remove = async () => { const letter = letters[i].split(""); while (letter.length) { await wait(speed); letter.pop(); $text.innerHTML = letter.join(""); } i = !letters[i + 1] ? 0 : i + 1; typing(); }; function wait(ms) { return new Promise(res => setTimeout(res, ms)) } setTimeout(typing, 1500); }); </script></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/android/">Android</a> <a class="post-tag btn btn-outline-primary" href="/tags/research/">Research</a> <a class="post-tag btn btn-outline-primary" href="/tags/develop/">Develop</a> <a class="post-tag btn btn-outline-primary" href="/tags/malware/">Malware</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">Git</a> <a class="post-tag btn btn-outline-primary" href="/tags/blog/">Blog</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux/">Linux</a> <a class="post-tag btn btn-outline-primary" href="/tags/reverse/">Reverse</a> <a class="post-tag btn btn-outline-primary" href="/tags/mobile/">Mobile</a> <a class="post-tag btn btn-outline-primary" href="/tags/software-developer/">Software developer</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><script> (function () { const origin = 'https://utteranc.es'; const themeMapper = Theme.getThemeMapper('github-light', 'github-dark'); const initTheme = themeMapper[Theme.visualState]; let script = document.createElement('script'); script.src = 'https://utteranc.es/client.js'; script.setAttribute('repo', 'RuffaloLavoisier/ruffalolavoisier.github.io'); script.setAttribute('issue-term', 'pathname'); script.setAttribute('theme', initTheme); script.crossOrigin = 'anonymous'; script.async = true; const $footer = document.querySelector('footer'); $footer.insertAdjacentElement('beforebegin', script); addEventListener('message', (event) => { let newTheme;if (event.source === window && event.data && event.data.id === Theme.ID) { newTheme = themeMapper[Theme.visualState]; const message = { type: 'set-theme', theme: newTheme }; const utterances = document.querySelector('.utterances-frame').contentWindow; utterances.postMessage(message, origin); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
